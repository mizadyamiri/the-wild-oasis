import{s as p,a as g,j as e,S as h,H as x,B as n}from"./index-438dd456.js";import{u as j}from"./useDeleteBooking-8dcd49a1.js";import{u as B}from"./useMoveBack-5a8fe617.js";import{u as f,B as C,a as b,b as v}from"./ButtonText-1ae7e3b9.js";import{u as y,T as D}from"./useCheckout-1a97393c.js";import{R as T}from"./Row-b6073b20.js";import{E,M as t,C as H}from"./Empty-64d46a19.js";import"./apiBookings-fe2cd036.js";import"./helpers-166c3b16.js";import"./iconBase-26a71e31.js";import"./useMutation-5e0b73ac.js";import"./Flag-4f9f4dd4.js";import"./isToday-1a768889.js";import"./isSameDay-4bcdd5eb.js";const M=p.div`
  display: flex;
  gap: 2.4rem;
  align-items: center;
`;function N(){const{booking:s,isLoading:d}=f(),{checkout:l,isCheckOut:u}=y(),{deleteBooking:m,isDeletingBooking:r}=j(),a=B(),c=g(),k={unconfirmed:"blue","checked-in":"green","checked-out":"silver"};if(d|r)return e.jsx(h,{});if(!s)return e.jsx(E,{resource:"booking"});const{status:o,id:i}=s;return e.jsxs(e.Fragment,{children:[e.jsxs(T,{type:"horizontal",children:[e.jsxs(M,{children:[e.jsxs(x,{as:"h1",children:["Booking #",i]}),e.jsx(D,{type:k[o],children:o.replace("-"," ")})]}),e.jsx(C,{onClick:a,children:"← Back"})]}),e.jsx(b,{booking:s}),e.jsxs(v,{children:[o==="unconfirmed"&&e.jsx(n,{onClick:()=>c(`/checkin/${i}`),children:"Check in"}),o==="checked-in"&&e.jsx(n,{onClick:()=>l(i),disabled:u,children:"Check out"}),e.jsxs(t,{children:[e.jsx(t.Open,{opens:"delete",children:e.jsx(n,{variation:"danger",children:"Delete booking"})}),e.jsx(t.Window,{name:"delete",children:e.jsx(H,{resourceName:"booking",disabled:r,onConfirm:()=>m(i,{onSuccess:()=>c("/bookings")})})})]}),e.jsx(n,{variation:"secondary",onClick:a,children:"Back"})]})]})}function K(){return e.jsx(N,{})}export{K as default};
